{% extends "index.twig" %}

{% block body %}

	<div style="text-align: center;">
		<h4>{{ app.i18n.labels.servertime }}</h4>
		<span type="button" class="btn btn-primary btn-large" disabled="disabled"><span id="Uhrzeit"></span> Uhr</span>
	</div>

	<legend>{{ app.i18n.titles.cronjobs }}</legend>

	<table class="table table-striped">
		{% for key, group in app.data.cronjobs %}
			<tr>
				<td style="width: 70px;">
					<a href="{{ path('cron-edit', {'id': key}) }}" class="btn btn-primary text-right" style="float: right;">
						<span class="glyphicon glyphicon-pencil" style="margin-right: 10px;"></span>{{ app.i18n.labels.edit }}
					</a>
				</td>
				<td>
					<span style="font-size: 14pt;">{{ cron }}</span>
				</td>
				<td style="width: 70px;">
					<a href="{{ path('cron-delete', {'id': key}) }}" class="btn btn-danger text-right" style="float: right;">
						<span class="glyphicon glyphicon-remove-sign" style="margin-right: 10px;"></span>{{ app.i18n.labels.delete }}
					</a>
				</td>
			</tr>
		{% endfor %}
	</table>

	<!-- Add -->
	<a href="{{ path('cron-new') }}" class="btn btn-primary text-right" style="float: right; margin-right: 10px;">
		<span class="glyphicon glyphicon-plus-sign" style="margin-right: 10px;"></span>{{ app.i18n.labels.new_cronjob }}
	</a>
	<!-- /Add -->


	<script language="JavaScript">
	<!--
	var Serverzeit = new Date({{ time }});

	$(function() {
		UhrzeitAnzeigen();
	});

	function UhrzeitAnzeigen()
	{
		if(!document.all && !document.getElementById)
		{
			return;
		}

		var Stunden = Serverzeit.getHours();
		var Minuten = Serverzeit.getMinutes();
		var Sekunden = Serverzeit.getSeconds();
		Serverzeit.setSeconds(Sekunden+1);

		if(Stunden <= 9)
		{
			Stunden = "0" + Stunden;
		}

		if(Minuten <= 9)
		{
			Minuten = "0" + Minuten;
		}

		if(Sekunden <= 9)
		{
			Sekunden = "0" + Sekunden;
		}

		Uhrzeitanzeige = Stunden + ":" + Minuten + ":" + Sekunden;

		if(document.getElementById)
		{
			document.getElementById("Uhrzeit").innerHTML = Uhrzeitanzeige
		}
		else if(document.all)
		{
			Uhrzeit.innerHTML = Uhrzeitanzeige;
		}

		setTimeout("UhrzeitAnzeigen()", 1000);
	}
	//-->
	</script>
	
{% endblock %}